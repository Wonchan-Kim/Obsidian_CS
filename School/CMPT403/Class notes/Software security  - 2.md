Cross-site Scripting (XSS)
input the code in input boxes on a webpage
XSS occurs when a users can write code on a web page

Persistent XSS vulnerability (stored XSS)
Javascript can be injected into the stored data, the content of a webpage is then changed persistently. Eg. comment boxes, profile descriptions, message boards

Reflexed XSS vulnerability
Inject Javascript into a URL through a parameter, victims may not realize it is a malicious URL. 

Rootkits -> Piece of malware for maintaining C&C over a target system(root)
User Rootkits - change, files, programs, libraries...
Kernel Rootkits - change system calls
Changes the behavior of system functionalities to hide itself/some other malware

Bombs - destructive payloads usually in the context of a trojan
Zip bombs - Unzipping creates a very large file
Compiler bombs - Compiling the bomb creates a very large file
Besides destruction, can be used to break certain scans

Spyware - secretly collects data about the user
Pegasus -> developed by software company NSO Group
Jailbreak Iphones with a malicious URL
Reads text msgs, traces the phone, can enable microphone and camera, etc. 
Flexispy -> call logs/recordings, ;...

Ransomware 
1. Encryption
2. Ransom
3. Blackmail
4. Intrusion path

APT ( advanced persistent threat) 
Combinations of multiple infection vectors and spreading strategies, usually using several zero-day vulnerabilities. 
Focused, long-duration attacks
Achieves political/industrial goal (target high-profile personnel)

Covert channel (은밀한 채널)
resources that are not intended to for communication that are used by an attacker to communicate information in a monitored environment without alerting the victim. 
- To retrieve stolen data
- To receive commands
- To update malware
TCP initial sequence number, size of packets, timing, port knocking
sending information via blinking printer




Stream Cipher
> Generates keystream of any length from random seed
> Keystream is pseudorandom
> Seed and Nonce are used only once
> ENC(seed, Nonce)M = Keystream(seed, Nonce) xor M

Block Cipher
> There is a fixed block size 
> plain text is divided in to blocks of size
> we encrypt each block to produce ciphertext
> the same key is used for each bolck
> 
> This run into ciphertext repetition problem
> 
> ECB (electronic codebook): All keys are the same - no defence against repetition
> CBC(cipher block chianing): Each block is xored with ciphertext x-1. Ciphertext cblock 0 is nonce. 
> 
> Counter (CTR): Each plaintext block x is XORed with a keyblock that is generated by an encryption of counter X with an nonce. ![[Pasted image 20251019235851.png]]ECB is insecure

Block cipher DES,AES(current standard), Camelia(Europe, Japan), SM4(China) -> Stream ciphers are usually faster

## PKE (asymmetric encryption)
![[Pasted image 20251020000817.png]]
Alice is the only one who can read the message. 
![[Pasted image 20251020001133.png]]
If leaked, attacker can decrypt every message, including the past.
Attacker can also behave as Alice. 
![[Pasted image 20251020001422.png]]
RSA is the first PKE, 
![[Pasted image 20251020001057.png]]

----
Now we also care about integrity and authenticity
- Confidentiality: The message is secret
- Integrity: The message is not tampered
- Authenticity: The sender/receiver's identity is correct
For this purpose,
- Cryptography hash
- Message Authentication Code
- Digital Signature

### Hash
Irreversible one way functions:

Properties:
- Preimage resistance(not able to recover m from h(m))
- Second-preimage resistence (not able to find m' such that h(m) = h(m'))
- colliision resistance(not able to find any m1, m2 such that h(m1) = h(m2))
- output is small, fixed size

Using cryptographic hash, never store the P directly. 
Attacker can precompute the hash table, to prevent this add a random salt to the password. 

<font color="red">Good against unintentional, random errors, however, MitM attacker can change both file and hash. Need to check the Authencity </font>

### Mac 
A MAC is attached to messages for authentication:
The two parties both need to have the secret key
An attacker can't forge a MAC
Authenticates the message. 
Can be built from the hash (can be called as HMAC) h(K||M)

Scenario : Resistance against MitM:
Eve who doesn't have a key, can't produce HMac. Specifically, if Eve changes M to M', he can't also replace HMAC, becasue K is unknown. 

### Signatures
Reverse the usage of public and private key, 
Only owner signs while everyone can verify the signature. 
Private signing key(signs the message)
Public verification key(verifies the message)

<font color=red>In practice, sign/verify keys are long lasting while encrypt/decrypt keys are short lived. It is because if leaked, fake signature vs all decrypted. Sign-verify for integrity, while enc-dec is for confidentiality</font>

---
How do we trust Alice?

PKI, public key infrastructure delivers the right public key to the users. 

1. SSH: Used for connecting to remote machine
    TOFU(Trust on first use): when connecting for the first time, the server shows the public key, and user is asked if trusting the  public key. If yes, never asked again until it gets changed, if no disconnected. 

